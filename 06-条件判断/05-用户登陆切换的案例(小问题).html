<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>05-用户登陆切换的案例(小问题)</title>
	<script src="../js/vue.js"></script>
</head>
<body>
	<div id="app">
		<!-- 
			问题:
				切换的时候,之前再input输入的数据依然存在
				正常来说input切换的时候两个并不一样为什么数据依然存在
		 -->
		 
		<!-- 
			原因: 
				vue在将要渲染dom的时候,放到浏览器之前,出于性能的考虑先做一个虚拟dom放在内存中
				为了性能优化,会尽可能的复用元素,例如:input切换的时候vue会进行对比,直接替换不同的属性,其他直接复用
		-->
		
		<!-- 
			解决方法:
				使用key作为标识
				vue对比key时发现并不一样,则不会进行复用
		 -->
		
		<span v-if="isUser">
			<label for="username">用户账号</label>
			<input type="text" id="username" placeholder="用户账号" key="username">
		</span>
		<span v-else>
			<label for="email">用户邮箱</label>
			<input type="text" id="email" placeholder="用户邮箱" key="email">
		</span>
		<button @click="isUser = !isUser">切换类型</button>
	</div>
</body>
<script type="text/javascript">
	const app = new Vue({
		el: '#app',
		data: {
			msg: "Hello",
			isUser: true
		},
		methods: {
			
		}
	});
</script>
</html>
